(this["webpackJsonpwealthy-challenge"]=this["webpackJsonpwealthy-challenge"]||[]).push([[0],{140:function(e,t,n){e.exports=n(237)},145:function(e,t,n){},167:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),s=(n(145),n(23)),i=n(75),u=n.n(i),l="https://api.airtable.com/v0/appfSnQLDjmZaKBkW/Stock%20Prices",m={Authorization:"Bearer keyqdUGZqw83GnkG7","Content-Type":"application/json"},f=function(){return function(e){u.a.get("https://api.airtable.com/v0/appfSnQLDjmZaKBkW/tblaBiC6LtFpJ6nRw?sort%5B0%5D%5Bfield%5D=date&sort%5B0%5D%5Bdirection%5D=asc",{headers:m}).then((function(e){return e})).catch((function(e){return{error:e}})).then((function(t){t.error||e(d(t.data.records))}))}},d=function(e){return{type:"UPDATE_STOCKS_CALENDER",stocksData:e}},k=function(e){return function(t){(function(e){var t=e;return u.a.post(l,t,{headers:m})})(e).then((function(e){if(e.data){var n=e.data.records[0];t(E(n)),t(b("Stock Price has been updated."))}else;}))}},h=function(e){return function(t){(function(e){return u.a.delete(l+"/"+e,{headers:m})})(e).then((function(n){n.data&&(t(p(e)),t(b("Stock Price has been removed!")))}))}},p=function(e){return{type:"DELETE_STOCK_DATA",stockId:e}},E=function(e){return{type:"UPDATE_STOCK_DATA",stock:e}},b=function(e){return{type:"SHOW_TOAST_MESSAGE",message:e}},O=n(47),g=n(77),v=n(11),D=n(245),y=n(55),j=n(241),S=n(242),A=n(243),T=n(244);n(166),n(167);function P(e){var t=function(e){if(8===e.month())return 1394}(e);return t?r.a.createElement("div",{className:"notes-month"},r.a.createElement("section",null,t),r.a.createElement("span",null,"Backlog number")):null}var M=Object(s.b)((function(e){return{stocks:e.stockInfo.stocks}}),(function(e){return{getStocksData:function(){return e(f())},setMonthAndYear:function(t,n){return e(function(e,t){return{type:"SET_MONTH_YEAR",month:e,year:t}}(t,n))},addStockPrice:function(t){return e(k(t))},deleteStockPrice:function(t){return e(h(t))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(0),i=Object(g.a)(s,2),u=i[0],l=i[1],m=Object(a.useState)(),f=Object(g.a)(m,2),d=f[0],k=f[1],h=e.stocks.map((function(e){var t=new Date(e.date),n=t.getDate(),a=t.getMonth(),r=t.getFullYear();return Object.assign({},Object(O.a)({year:r,month:a,day:n},e))})),p=function(e){o(!c),k(e)};return r.a.createElement(j.a,{bordered:!1,className:"stocks-container"},r.a.createElement(S.a,{dateCellRender:function(t){var n=function(e){return h.filter((function(t){return t.day===e.date()&&t.month===e.month()&&t.year===e.year()}))}(t);return r.a.createElement("ul",{className:"stock-price-container"},n&&n.map((function(t,n){return r.a.createElement("ul",{key:n,className:"stock-price-item"},r.a.createElement("li",{className:"stock-remove-button"},r.a.createElement(v.a,{type:"close-circle",theme:"filled",className:"stock-remove-icon",onClick:function(){return function(t){var n=t.id;e.deleteStockPrice(n)}(t)}})),r.a.createElement("li",null,r.a.createElement(D.a,{color:"geekblue",className:"calender-stock-price"},"\u20b9",t.price)))})),0===n.length&&r.a.createElement("li",{className:"add-stock-list-item"},r.a.createElement(y.a,{className:"add-stock-button",onClick:function(){return p(t)}},r.a.createElement("span",null,r.a.createElement(v.a,{type:"plus"}),"Add"))))},monthCellRender:P,onPanelChange:function(t){var n=new Date(t),a=n.getMonth(),r=n.getFullYear();e.setMonthAndYear(a,r)}}),r.a.createElement(A.a,{title:"Add Stock Price",visible:c,onOk:function(){var t={records:[{fields:{date:d.year()+"-"+(d.month()+1)+"-"+d.date(),price:u}}]};e.addStockPrice(t),l(0),p()},onCancel:p,className:"add-stock-modal"},r.a.createElement(T.a,{formatter:function(e){return"\u20b9 ".concat(e)},size:"large",defaultValue:0,value:0,onChange:function(e){l(e)},onPressEnter:function(){return alert("hi")},className:"stock-price-input"})))})),N=(n(234),n(95)),_=n(133),w=n.n(_),I=Object(s.b)((function(e){return{month:e.stockInfo.month,year:e.stockInfo.year,stocks:e.stockInfo.stocks}}),(function(e){return{}}))((function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.stocks.map((function(e){var n=new Date(e.date),a=n.getMonth(),r=n.getDate();return"".concat(r,", ").concat(t[a])})),a=e.stocks.map((function(e){return Number(e.price)})),c={title:{text:"Price Trend : "+t[e.month]+","+e.year},xAxis:{categories:n},series:[{showInLegend:!1,data:a}]};return r.a.createElement(j.a,{bordered:!1,className:"chart-container"},r.a.createElement(w.a,{highcharts:N,options:c,className:"chart"}))})),C=(n(235),Object(s.b)((function(e){return{month:e.stockInfo.month,year:e.stockInfo.year,stocks:e.stockInfo.stocks,maximumProfit:e.stockInfo.maximumProfit}}),(function(e){return{getMaximumProfit:function(){return e({type:"GET_MAXIMUM_PROFIT"})}}}))((function(e){return Object(a.useEffect)((function(){e.getMaximumProfit()})),r.a.createElement(j.a,{bordered:!1,className:"profit-price-container"},r.a.createElement("p",null,"Maximum Profit: \u20b9",e.maximumProfit))}))),x=n(240),B=(n(236),function(e){return r.a.createElement(x.a,{tip:"Loading...",className:"loader-container"})}),R=Object(s.b)((function(e){return{stocks:e.stockInfo.stocks}}),(function(e){return{getStocksData:function(){return e(f())}}}))((function(e){return Object(a.useEffect)((function(){e.getStocksData()}),[]),r.a.createElement("div",{className:"container-main"},e.stocks.length?r.a.createElement("div",null,r.a.createElement(M,null)," ",r.a.createElement(C,null)," ",r.a.createElement(I,null)):r.a.createElement(B,null))})),L=n(38),K=n(134),F=n(58),U={stocks:[],stockRecords:[],month:(new Date).getMonth(),year:(new Date).getFullYear(),buyDate:"",sellDate:"",maximumProfit:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STOCKS_CALENDER":var n=t.stocksData,a=n.map((function(e){return Object(O.a)({id:e.id},e.fields)}));return Object.assign({},e,{stockRecords:n,stocks:a});case"UPDATE_STOCK_DATA":var r=t.stock,c=[Object(O.a)({id:r.id},r.fields)].concat(Object(F.a)(e.stocks));return c.sort((function(e,t){var n=new Date(e.date),a=new Date(t.date);return n<a?-1:n>a?1:0})),Object.assign({},e,{stocks:c});case"DELETE_STOCK_DATA":var o=e.stocks,s=o.filter((function(e){return e.id!==t.stockId}));return Object.assign({},e,{stocks:s});case"SET_MONTH_YEAR":return Object.assign({},e,{month:t.month,year:t.year});case"GET_MAXIMUM_PROFIT":var i,u=e.stocks,l=e.stocks.map((function(t,n){var a=Object(O.a)({},t);a.date;var r=10*Number(t.price),c=e.stocks.map((function(e,t){var a=10*Number(e.price)-r;return t<=n?0:a>=0?a:0})),o=Math.max.apply(Math,Object(F.a)(c)),s=Object(F.a)(c).indexOf(o);return i=u[s].date,o})),m=Math.max.apply(Math,Object(F.a)(l)),f=l.indexOf(m);return i=u[f].date,Object.assign({},e,{maximumProfit:m,sellDate:i});default:return e}},G=Object(L.c)({stockInfo:Y});var J=function(){var e=Object(L.d)(G,Object(L.a)(K.a));return r.a.createElement(s.a,{store:e},r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.2455c1a4.chunk.js.map